# 小程序和公众号

## 定位不同

### 公众号

公众号借助`H5`实现简单交互，主要用于信息的传递，一些简单的服务为辅助，体验类似于浏览网页，复杂应用会有多层页面跳转，没有缓存，打开会有延时。

### 小程序

小程序主要是面向应用，功能上和公众号有区分(不支持关注，消息推送，朋友圈)，体验类似原生App,无需安装，用完可走。有本地缓存，加载比较流畅。

## 公众号关联小程序

- 公众号关联小程序后，将可在图文消息、自定义菜单、模板消息等功能中使用小程序。
- 关联规则
  - 所有公众号都可以关联小程序。
  - 一个公众号可关联10个同主体的小程序，3个不同主体的小程序。
  - 一个小程序可关联500个公众号。
  - 公众号一个月可新增关联小程序13次，小程序一个月可新增关联500次。

## 对比

|        | 实现技术                   | 运行环境   | 便捷性   | 账户体系               | 推广           |
| ------ | -------------------------- | ---------- | -------- | ---------------------- | -------------- |
| 公众号 | H5                         | 浏览器     | 先关注   | 独立公众号用户         | 微信群，朋友圈 |
| 小程序 | 微信自身开发环境与开发语言 | 微信移动端 | 无需关注 | 独立小程序用户(可打通) | 微信群         |

### 小程序

- 可以分享小程序页面
- 模板消息(发生支付行为可以给用户发消息，微信订票，发车前的通知消息等)
- 客服消息(相当于淘宝客服)
- 小程序每个页面都可以使用二维码扫一扫打开
- 可以直接调用系统蓝牙
- 可以后台存活
- 无刷新及时通信，可本地缓存
- 微信官方封装了很多接口，开发成本相对较低
- 类似于vue的开发体验，开发比较快捷

### 公众号

- 可分享，推荐
- 消息通知无限制使用
- 需要接入微信硬件平台
- 不可后台存活
- 每次打开要请求服务器，延时大
- 接口相对于小程序封装程度不高，成本相对高一点
